<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div class="buttons">
        <button id="Rock" class="choice">Rock</button>
        <button id="Paper" class="choice">Paper</button>
        <button id="Scissors" class="choice">Scissors</button>
    </div>
    <div class="scoreboard">

    </div>
</body>
<script>
    let options = ['rock', 'paper', 'scissors'];
    let playerScore = 0;
    let computerScore = 0;
    createBox();

    const buttons = document.querySelectorAll('button');

    buttons.forEach((button) => {

    button.addEventListener('click', (e) => {
        if(button.id == "Rock"){
            playRound('rock', this.computerSelection);
        } else if (button.id == "Paper"){
            playRound('paper', this.computerSelection);
        } else if (button.id == "Scissors"){
            playRound('scissors', this.computerSelection);
        }

        playerChoice.textContent = "Der Spieler hat " + button.id + " gespielt.";
    });
    });

    function createBox(){
        scoreboard = document.querySelector('.scoreboard');

        container = document.createElement('div');
        container.style.margin = "30px auto auto auto";
        container.style.height = "130px";
        container.style.width = "60%";
        container.style.border = "solid black";

        playerChoice = document.createElement('div');
        playerChoice.style.margin = "20px 0 0 20px";
        container.appendChild(playerChoice);
        computerChoice = document.createElement('div');
        computerChoice.style.margin = "20px 0 0 20px";
        container.appendChild(computerChoice);

        scoreboard.appendChild(container);


        container2 = document.createElement('div');
        container2.style.margin = "30px auto auto auto";
        container2.style.height = "130px";
        container2.style.width = "60%";
        container2.style.border = "solid black";

        playerScoreText = document.createElement('p');
        playerScoreText.style.margin = "20px 0 0 20px";
        container2.appendChild(playerScoreText);
        computerScoreText = document.createElement('p');
        computerScoreText.style.margin = "20px 0 0 20px";
        container2.appendChild(computerScoreText);
        roundWinnerText = document.createElement('p');
        roundWinnerText.style.margin = "20px 0 0 20px";
        container2.appendChild(roundWinnerText);

        scoreboard.appendChild(container2);
    }

    let getRandomInt = (min, max) => {
        min = Math.ceil(min);
        max = Math.floor(max);
        
        result = Math.floor(Math.random() * (max - min)) + min;
        return result;
    }

    function computerPlay(){
        getRandomInt(0,3);
        computerOption  = options[result];
        return computerOption;
    }

    let playerSelection;

    function playRound(playerSelection, computerSelection) {
        let roundWinner;
        computerSelection  = computerPlay();
        if(computerSelection == 'rock'){
            roundWinner = "Unentschieden!";
        } else if(computerSelection == 'paper'){
            roundWinner = "Computer gewinnt die Runde!";
            computerScore += 1;
        } else if(computerSelection == 'scissors'){
            roundWinner = "Spieler gewinnt die Runde!";
            playerScore += 1;
        }

        computerChoice.textContent = "Der Computer hat " + computerSelection + " gespielt";
        console.log(computerSelection)
        //console.log(roundWinner, "Spielerscore: " + playerScore, "Computerscore: " + computerScore);
        playerScoreText.textContent = "Spielerscore: " + playerScore;
        computerScoreText.textContent = "Computerscore: " + computerScore;
        roundWinnerText.textContent = roundWinner;

    }

    /*function game(playerSelection, computerSelection){
        playRound(this.playerSelection, this.computerSelection);
        for(i = 0; i<5; i++){
            playRound(playerSelection, computerSelection);
        }
        if(playerScore > computerScore){
            console.log("Spieler hat gewonnen!");
        } else if(playerScore < computerScore){
            console.log("Computer hat gewonnen!");
        } else {
            console.log("Diesmal ging es unentschieden aus.")
        }
    }*/


</script>
</html>